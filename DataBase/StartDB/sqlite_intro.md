# Руководство: Создание базы данных "Домашняя библиотека" с помощью SQLite Online

Добро пожаловать в практическое руководство для новичков по работе с базами данных! Мы будем учиться на примере создания базы данных для домашней библиотеки. Самое главное — нам не нужно устанавливать никаких сложных программ. Всё сделаем прямо в браузере!

## Термины таблиц

*   **Строки** или **Индексы** — это отдельные записи (например, одна конкретная книга).
*   **Столбцы** или **Аргументы** — это характеристики этих записей (например, название книги, автор, год издания).
*   **Ячейки** или **Поля** — это конкретные значения (например, "Война и мир").

Мы будем учиться **создавать** такую таблицу, **наполнять** её данными, **исправлять** и **удалять** записи с помощью языка SQL (Structured Query Language — язык структурированных запросов).

## Инструмент: SQLite Online

Для нашего урока мы используем бесплатный онлайн-сервис **SQLite Online**. Он не требует регистрации и работает прямо в браузере.

**Как начать:**
1.  Откройте браузер и перейдите на сайт: [https://sqliteonline.com/](https://sqliteonline.com/)
2.  Вы увидите окно для ввода команд (слева) и область, где будут появляться результаты (справа).
3.  Убедитесь, что в левом верхнем углу выбрана база данных **SQLite** (обычно стоит по умолчанию).
4.  Можно приступать к работе!

## Шаг 1. Создаем таблицу `books`

Первым делом нам нужно создать "хранилище" — нашу таблицу. Мы дадим ей название `books` и укажем, какие столбцы (колонки) в ней будут.

**Команда SQL:**
```sql
CREATE TABLE books (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    author TEXT NOT NULL,
    year INTEGER,
    rating INTEGER
);
```

**Разбор команды:**
*   `CREATE TABLE books` — создаем таблицу с именем `books`.
*   `id INTEGER PRIMARY KEY AUTOINCREMENT` — столбец `id` будет уникальным номером для каждой книги. `INTEGER` — число, `PRIMARY KEY` — первичный ключ (уникальный идентификатор), `AUTOINCREMENT` — номер будет автоматически увеличиваться с каждой новой книгой.
*   `title TEXT NOT NULL` — столбец `title` (название) будет текстом (`TEXT`). `NOT NULL` означает, что это поле обязательно для заполнения.
*   `author TEXT NOT NULL` — столбец `author` (автор), тоже обязательный.
*   `year INTEGER` — год издания, число. Это поле может быть пустым.
*   `rating INTEGER` — рейтинг книги по шкале, например, от 1 до 10. Тоже может быть пустым.

**Как выполнить:** Вставьте этот код в левое окно на сайте SQLite Online и нажмите кнопку **Run** ( ▶ ). Если внизу не появилось красных ошибок — всё готово!

## Шаг 2. Заполняем таблицу данными (команда `INSERT`)

Таблица пустая. Давайте добавим в нее наши первые книги. Команда `INSERT INTO` отвечает за добавление новых строк.

**Команда SQL для добавления одной книги:**
```sql
INSERT INTO books (title, author, year, rating)
VALUES ('Маленький принц', 'Антуан де Сент-Экзюпери', 1943, 10);
```
Мы указали, в какие столбцы вставляем данные (`title, author, year, rating`) и какие значения им присваиваем.

**Добавим еще пару книг (можно выполнять по очереди):**
```sql
INSERT INTO books (title, author, year, rating)
VALUES ('1984', 'Джордж Оруэлл', 1949, 9);

INSERT INTO books (title, author, year)
VALUES ('Война и мир', 'Лев Толстой', 1867);
```
Обратите внимание: в третьей книге мы не указали рейтинг. Это допустимо, так как для столбца `rating` не стоит ограничение `NOT NULL`.

**Как посмотреть, что у нас получилось?**
Команда `SELECT` (выборка) показывает содержимое таблицы.
```sql
SELECT * FROM books;
```
Звездочка `*` означает "все столбцы". Выполните эту команду, и справа вы увидите таблицу с тремя книгами.

## Шаг 3. Изменяем данные (команда `UPDATE`)

Данные в реальной жизни часто меняются. Кто-то ошибся, или мнение изменилось. Команда `UPDATE` помогает исправить запись.

**Задача:** Мы поставили книге «1984» рейтинг 9, но она заслуживает 10.
**Важное правило:** Всегда точно указывайте, **какую именно** запись хотите изменить, иначе изменятся все! Лучше всего использовать уникальный `id`.
```sql
UPDATE books SET rating = 10 WHERE id = 2;
```
*(Если вы не знаете `id` книги «1984», можете сначала найти его командой `SELECT * FROM books WHERE title = '1984';`)*

**Задача:** Добавим рейтинг книге «Война и мир», который мы пропустили.
```sql
UPDATE books SET rating = 8 WHERE id = 3;
```

## Шаг 4. Удаляем данные (команда `DELETE`)

Если книга нам разонравилась или мы ошиблись, её можно удалить.

**Задача:** Удалим книгу «Маленький принц» (или любую другую).
**Важное правило:** Как и с `UPDATE`, будьте предельно аккуратны и уточняйте, что удалять, через `WHERE`.
```sql
DELETE FROM books WHERE id = 1;
```
Теперь, если вы снова выполните `SELECT * FROM books;`, вы увидите, что первая книга исчезла.

Поздравляю! Вы только что прошли полный цикл работы с базой данных: создали таблицу, наполнили её, обновили и удалили данные. Это основа, на которой строятся все современные приложения.

---

## Практические задания для учеников (15 задач)

Теперь, когда вы освоили базу, предлагаем вам 15 заданий для самостоятельной работы. Выполняйте их по порядку.

### Задания на добавление данных (`INSERT`)

1.  **Добавьте свою любимую книгу.** Вставьте в таблицу книгу, которая нравится лично вам. Укажите название, автора, год и поставьте рейтинг 10.
2.  **Добавьте книгу без указания года.** Вставьте запись про книгу, год издания которой вы не знаете (например, какая-нибудь древняя былина). Убедитесь, что это сработает.
3.  **Массовое добавление.** Добавьте сразу две книги одним запросом. (Подсказка: значения перечисляются через запятую: `VALUES (...), (...);`).
4.  **Проверка ограничений.** Попробуйте добавить книгу, не указав автора (поле `author NOT NULL`). Посмотрите, какую ошибку выдаст база данных.

### Задания на изменение данных (`UPDATE`)

5.  **Исправление ошибки.** Вы нашли ошибку: книга «Война и мир» была издана в 1869, а не в 1867. Исправьте это.
6.  **Массовое обновление.** Вы решили, что все книги, у которых рейтинг ниже 5, недостойны существовать. Поднимите им рейтинг до 5.
7.  **Обновление по условию.** Добавьте фразу " (роман)" к названию всех книг Льва Толстого. (Будьте осторожны с кавычками!).
8.  **Проставьте рейтинги.** Найдите все книги, у которых рейтинг еще не указан (пустой, то есть `NULL`), и поставьте им средний рейтинг 7.

### Задания на удаление данных (`DELETE`)

9.  **Удаление одной книги.** Удалите книгу, которая вам совсем не нравится, по её `id`.
10. **Удаление по году.** Удалите все книги, изданные до 1900 года.
11. **Удаление по рейтингу.** Удалите все книги с рейтингом меньше 4.
12. **Удаление автора.** Удалите из библиотеки все книги автора, которого вы терпеть не можете.

### Творческие задания и выборка (`SELECT`)

13. **Любимые 90-е.** Выведите на экран (`SELECT`) все книги, изданные в 1990-х годах (между 1990 и 1999).
14. **Топ-читателя.** Выведите все книги, отсортировав их по рейтингу от самых высоких к самым низким. (Подсказка: используйте `ORDER BY rating DESC`).
15. **Чистка базы.** Придумайте свою команду, которая удалит книги, название которых короче 3 символов. (Подсказка: ищите функцию `LENGTH(title)`).

### Финальное задание
Представьте, что вы открываете свой книжный магазин. Добавьте в таблицу новый столбец `price` (тип `REAL` для хранения дробных чисел). Как это сделать? Подсказка: используйте команду `ALTER TABLE books ADD COLUMN price REAL;`. После этого назначьте цену для нескольких книг с помощью `UPDATE`.
