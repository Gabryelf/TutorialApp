let currentSlide = 1;
const totalSlides = 15;

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
function highlightCode(code) {
    return code
        // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
        .replace(/(#.*$)/gm, '<span class="comment">$1</span>')
        // –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ Python
        .replace(/\b(import|from|def|class|if|elif|else|while|for|in|return|True|False|None)\b/g, '<span class="keyword">$1</span>')
        // –§—É–Ω–∫—Ü–∏–∏
        .replace(/(\w+)\s*\(/g, '<span class="function">$1</span>(')
        // –°—Ç—Ä–æ–∫–∏
        .replace(/(["'])(?:(?=(\\?))\2.)*?\1/g, '<span class="string">$&</span>')
        // –ß–∏—Å–ª–∞
        .replace(/\b(\d+)\b/g, '<span class="number">$1</span>');
}

// –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–∞–π–¥–∞
const slideTips = {
    1: "üéØ <strong>–°–æ–≤–µ—Ç –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:</strong> –ù–∞—á–Ω–∏ —Å –∏–º–ø–æ—Ä—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Ç–≤–æ–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã. –í—Å–µ–≥–¥–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π –Ω—É–∂–Ω—ã–µ –º–æ–¥—É–ª–∏ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞.",
    2: "üé® <strong>–°–æ–≤–µ—Ç –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞:</strong> –ì—Ä—É–ø–ø–∏—Ä—É–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–º–µ—Å—Ç–µ. –¢–∞–∫ –ø—Ä–æ—â–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä—ã.",
    3: "üìä <strong>–°–æ–≤–µ—Ç –ø–æ –¥–∞–Ω–Ω—ã–º:</strong> –ò—Å–ø–æ–ª—å–∑—É–π —Å–ø–∏—Å–∫–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥—Ä—É–ø–ø –ø–æ—Ö–æ–∂–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏!",
    4: "üîÑ <strong>–°–æ–≤–µ—Ç –ø–æ —Ü–∏–∫–ª—É:</strong> –ì–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª - —ç—Ç–æ —Å–µ—Ä–¥—Ü–µ –∏–≥—Ä—ã. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ 60 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É!",
    5: "üéÆ <strong>–°–æ–≤–µ—Ç –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é:</strong> –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–ª–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤—á–∏–≤—ã–º. –ü—Ä–æ–≤–µ—Ä—è–π –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞ —á—Ç–æ–±—ã –∏–≥—Ä–æ–∫ –Ω–µ —É–ª–µ—Ç–µ–ª –∑–∞ –∫—Ä–∞–π.",
    6: "‚ö° <strong>–°–æ–≤–µ—Ç –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º:</strong> –†–∞–∑–±–∏–≤–∞–π –∫–æ–¥ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ - —Ç–∞–∫ –ø—Ä–æ—â–µ —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É. –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å –æ–¥–Ω—É –≤–µ—â—å.",
    7: "‚è∞ <strong>–°–æ–≤–µ—Ç –ø–æ –≤—Ä–µ–º–µ–Ω–∏:</strong> –ò—Å–ø–æ–ª—å–∑—É–π —Ç–∞–π–º–µ—Ä—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —á–∞—Å—Ç–æ—Ç—ã —Å–æ–±—ã—Ç–∏–π. –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å.",
    8: "üöÄ <strong>–°–æ–≤–µ—Ç –ø–æ –¥–≤–∏–∂–µ–Ω–∏—é:</strong> –û–±–Ω–æ–≤–ª—è–π –ø–æ–∑–∏—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä. –£–¥–∞–ª—è–π –≤—ã—à–µ–¥—à–∏–µ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –æ–±—ä–µ–∫—Ç—ã —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã.",
    9: "üí• <strong>–°–æ–≤–µ—Ç –ø–æ —Ñ–∏–∑–∏–∫–µ:</strong> –ü—Ä–æ–≤–µ—Ä—è–π —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ (Rect). –≠—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —á–µ–º –≤—ã—á–∏—Å–ª—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è.",
    10: "‚ù§Ô∏è <strong>–°–æ–≤–µ—Ç –ø–æ –≥–µ–π–º–¥–∏–∑–∞–π–Ω—É:</strong> –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å - –¥–∞–π –∏–≥—Ä–æ–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∂–∏–∑–Ω–µ–π –Ω–æ —Å–¥–µ–ª–∞–π –ø–æ—Ä–∞–∂–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–º.",
    11: "üé® <strong>–°–æ–≤–µ—Ç –ø–æ –≥—Ä–∞—Ñ–∏–∫–µ:</strong> –°–æ–∑–¥–∞–≤–∞–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é (SRCALPHA) –¥–ª—è smooth –≥—Ä–∞—Ñ–∏–∫–∏. –ü—Ä–æ—Å—Ç—ã–µ —Ñ–æ—Ä–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ —Å–ª–æ–∂–Ω—ã—Ö.",
    12: "üñºÔ∏è <strong>–°–æ–≤–µ—Ç –ø–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É:</strong> –†–∏—Å—É–π –æ–±—ä–µ–∫—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ - —Ñ–æ–Ω, –≤—Ä–∞–≥–∏, –ø—É–ª–∏, –∏–≥—Ä–æ–∫, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –¢–∞–∫ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ–∫—Ä–æ–µ—Ç—Å—è.",
    13: "üìà <strong>–°–æ–≤–µ—Ç –ø–æ UX:</strong> –ü–æ–∫–∞–∑—ã–≤–∞–π –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (—Å—á–µ—Ç, –∂–∏–∑–Ω–∏) –ø–æ—Å—Ç–æ—è–Ω–Ω–æ. –ò–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å.",
    14: "üîä <strong>–°–æ–≤–µ—Ç –ø–æ –∑–≤—É–∫—É:</strong> –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–µ–ª–∞—é—Ç –∏–≥—Ä—É –∂–∏–≤–æ–π. –ù–æ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π - –∫–∞–∂–¥—ã–π –∑–≤—É–∫ –¥–æ–ª–∂–µ–Ω –Ω–µ—Å—Ç–∏ —Å–º—ã—Å–ª.",
    15: "üöÄ <strong>–°–æ–≤–µ—Ç –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é:</strong> –ù–∞—á–Ω–∏ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞, –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–π —Ñ–∏—á–∏ –ø–æ –æ–¥–Ω–æ–π. –¢–µ—Å—Ç–∏—Ä—É–π –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è!"
};

// –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–ª–∞–π–¥–æ–≤
const slides = {
    1: {
        title: "üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–≥—Ä—É!",
        content: "–°–µ–≥–æ–¥–Ω—è –º—ã —Å–æ–∑–¥–∞–¥–∏–º –∫–æ—Å–º–∏—á–µ—Å–∫—É—é –∏–≥—Ä—É, –≥–¥–µ —Ç—ã –±—É–¥–µ—à—å —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ—Ä–∞–±–ª–µ–º –∏ —Å—Ç—Ä–µ–ª—è—Ç—å –ø–æ –∞—Å—Ç–µ—Ä–æ–∏–¥–∞–º!",
        code: `import pygame\nimport random\n\n# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Pygame\npygame.init()\npygame.mixer.init()\n\n# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Ä–∞–Ω–∞\nWIDTH, HEIGHT = 800, 600\nscreen = pygame.display.set_mode((WIDTH, HEIGHT))\npygame.display.set_caption("–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∑–∞—â–∏—Ç–Ω–∏–∫")\nclock = pygame.time.Clock()`,
        hint: "–≠—Ç–æ –Ω–∞—á–∞–ª–æ –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã. –°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ—Ç –∫–æ–¥ –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª game.py"
    },
    2: {
        title: "üé® –°–æ–∑–¥–∞–µ–º —Ü–≤–µ—Ç–∞ –∏ –∏–≥—Ä–æ–∫–∞",
        content: "–î–æ–±–∞–≤–∏–º —Ü–≤–µ—Ç–∞ –¥–ª—è –Ω–∞—à–µ–π –∏–≥—Ä—ã –∏ —Å–æ–∑–¥–∞–¥–∏–º –∫–æ—Ä–∞–±–ª—å –∏–≥—Ä–æ–∫–∞",
        code: `# –¶–≤–µ—Ç–∞\nBLACK = (0, 0, 0)\nWHITE = (255, 255, 255)\nBLUE = (0, 100, 255)\nRED = (255, 0, 0)\nGREEN = (0, 255, 0)\n\n# –ò–≥—Ä–æ–∫\nplayer_x = WIDTH // 2\nplayer_y = HEIGHT - 80\nplayer_speed = 6`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Ä–∞–Ω–∞. –≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞—à–∏–º –∫–æ—Ä–∞–±–ª–µ–º"
    },
    3: {
        title: "ü™ê –°–æ–∑–¥–∞–µ–º –∞—Å—Ç–µ—Ä–æ–∏–¥—ã –∏ –ø—É–ª–∏",
        content: "–ê—Å—Ç–µ—Ä–æ–∏–¥—ã - —ç—Ç–æ –≤—Ä–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –±—É–¥–µ–º —É–Ω–∏—á—Ç–æ–∂–∞—Ç—å –ø—É–ª—è–º–∏",
        code: `# –°–ø–∏—Å–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤\nasteroids = []\nbullets = []\nspawn_timer = 0\n\n# –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ\nscore = 0\nlives = 3\nfont = pygame.font.Font(None, 36)`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–∞. –ú—ã —Å–æ–∑–¥–∞–µ–º –ø—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤ –∏ –ø—É–ª—å"
    },
    4: {
        title: "üéÆ –ì–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª",
        content: "–≠—Ç–æ —Å–µ—Ä–¥—Ü–µ –Ω–∞—à–µ–π –∏–≥—Ä—ã - —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∫–∞ –∏–≥—Ä–∞ –∞–∫—Ç–∏–≤–Ω–∞",
        code: `# –ì–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª\nrunning = True\nwhile running:\n    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            running = False\n    \n    # –ó–∞–ø–æ–ª–Ω—è–µ–º —ç–∫—Ä–∞–Ω —á–µ—Ä–Ω—ã–º —Ü–≤–µ—Ç–æ–º\n    screen.fill(BLACK)\n    \n    # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞\n    pygame.display.flip()\n    clock.tick(60)\n\npygame.quit()`,
        hint: "–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏–≥—Ä—ã. –î–æ–±–∞–≤—å –µ–≥–æ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞, –Ω–æ –î–û pygame.quit()"
    },
    5: {
        title: "üéØ –î–æ–±–∞–≤–ª—è–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∞–±–ª–µ–º",
        content: "–¢–µ–ø–µ—Ä—å –Ω–∞—à –∫–æ—Ä–∞–±–ª—å –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é –∫–ª–∞–≤–∏—à —Å—Ç—Ä–µ–ª–æ–∫!",
        code: `    # –î–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞\n    keys = pygame.key.get_pressed()\n    if keys[pygame.K_LEFT] and player_x > 0:\n        player_x -= player_speed\n    if keys[pygame.K_RIGHT] and player_x < WIDTH - 50:\n        player_x += player_speed\n    if keys[pygame.K_UP] and player_y > HEIGHT // 2:\n        player_y -= player_speed\n    if keys[pygame.K_DOWN] and player_y < HEIGHT - 50:\n        player_y += player_speed`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª, –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π –∏ –ø–µ—Ä–µ–¥ screen.fill(BLACK)"
    },
    6: {
        title: "üî´ –§—É–Ω–∫—Ü–∏—è —Å—Ç—Ä–µ–ª—å–±—ã",
        content: "–°–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—ã—Å—Ç—Ä–µ–ª–∞ –ø—É–ª—è–º–∏ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –ø—Ä–æ–±–µ–ª–∞",
        code: `# –§—É–Ω–∫—Ü–∏—è –≤—ã—Å—Ç—Ä–µ–ª–∞\ndef shoot_bullet():\n    bullets.append({\n        'x': player_x + 23,\n        'y': player_y,\n        'speed': 10\n    })\n\n# –í –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–±—ã—Ç–∏–π –¥–æ–±–∞–≤—å:\n    elif event.type == pygame.KEYDOWN:\n        if event.key == pygame.K_SPACE:\n            shoot_bullet()`,
        hint: "–§—É–Ω–∫—Ü–∏—é shoot_bullet() –¥–æ–±–∞–≤—å –î–û –≥–ª–∞–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞. –ö–æ–¥ —Å KEYDOWN –¥–æ–±–∞–≤—å –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π"
    },
    7: {
        title: "üåÄ –°–æ–∑–¥–∞–µ–º –∞—Å—Ç–µ—Ä–æ–∏–¥—ã",
        content: "–ê—Å—Ç–µ—Ä–æ–∏–¥—ã –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —Å–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞ –∏ –ø–∞–¥–∞—Ç—å –≤–Ω–∏–∑",
        code: `    # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤\n    spawn_timer += 1\n    if spawn_timer >= 40:\n        asteroids.append({\n            'x': random.randint(0, WIDTH - 45),\n            'y': -45,\n            'speed': random.randint(2, 5)\n        })\n        spawn_timer = 0`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª, –ø–æ—Å–ª–µ –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞"
    },
    8: {
        title: "‚ö° –î–≤–∏–∂–µ–Ω–∏–µ –ø—É–ª—å –∏ –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤",
        content: "–¢–µ–ø–µ—Ä—å –ø—É–ª–∏ –ª–µ—Ç—è—Ç –≤–≤–µ—Ä—Ö, –∞ –∞—Å—Ç–µ—Ä–æ–∏–¥—ã –ø–∞–¥–∞—é—Ç –≤–Ω–∏–∑",
        code: `    # –î–≤–∏–∂–µ–Ω–∏–µ –ø—É–ª—å\n    for bullet in bullets[:]:\n        bullet['y'] -= bullet['speed']\n        if bullet['y'] < -20:\n            bullets.remove(bullet)\n    \n    # –î–≤–∏–∂–µ–Ω–∏–µ –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤\n    for asteroid in asteroids[:]:\n        asteroid['y'] += asteroid['speed']\n        if asteroid['y'] > HEIGHT:\n            asteroids.remove(asteroid)`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤ –≤ –≥–ª–∞–≤–Ω–æ–º —Ü–∏–∫–ª–µ"
    },
    9: {
        title: "üí• –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è –ø—É–ª—å —Å –∞—Å—Ç–µ—Ä–æ–∏–¥–∞–º–∏",
        content: "–ö–æ–≥–¥–∞ –ø—É–ª—è –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∞—Å—Ç–µ—Ä–æ–∏–¥ - –æ–±–∞ –æ–±—ä–µ–∫—Ç–∞ –∏—Å—á–µ–∑–∞—é—Ç –∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –æ—á–∫–∏",
        code: `    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π –ø—É–ª—å —Å –∞—Å—Ç–µ—Ä–æ–∏–¥–∞–º–∏\n    for asteroid in asteroids[:]:\n        asteroid_rect = pygame.Rect(asteroid['x'], asteroid['y'], 45, 45)\n        \n        for bullet in bullets[:]:\n            bullet_rect = pygame.Rect(bullet['x'], bullet['y'], 4, 12)\n            if asteroid_rect.colliderect(bullet_rect):\n                asteroids.remove(asteroid)\n                if bullet in bullets:\n                    bullets.remove(bullet)\n                score += 10\n                break`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞ –¥–≤–∏–∂–µ–Ω–∏—è –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤, –ø–æ—Å–ª–µ asteroid['y'] += asteroid['speed']"
    },
    10: {
        title: "‚ù§Ô∏è –°–∏—Å—Ç–µ–º–∞ –∂–∏–∑–Ω–µ–π",
        content: "–ï—Å–ª–∏ –∞—Å—Ç–µ—Ä–æ–∏–¥ –∫–∞—Å–∞–µ—Ç—Å—è –∫–æ—Ä–∞–±–ª—è - —Ç–µ—Ä—è–µ–º –∂–∏–∑–Ω—å. –ò–≥—Ä–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ 0 –∂–∏–∑–Ω–µ–π",
        code: `        # –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ —Å –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–º\n        player_rect = pygame.Rect(player_x, player_y, 50, 50)\n        if asteroid_rect.colliderect(player_rect):\n            asteroids.remove(asteroid)\n            lives -= 1\n            if lives <= 0:\n                running = False`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π –ø—É–ª—å, –Ω–æ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞ –ø–æ –∞—Å—Ç–µ—Ä–æ–∏–¥–∞–º"
    },
    11: {
        title: "üé® –†–∏—Å—É–µ–º –∏–≥—Ä–æ–∫–∞ –∏ –∞—Å—Ç–µ—Ä–æ–∏–¥—ã",
        content: "–°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç—É—é –≥—Ä–∞—Ñ–∏–∫—É –¥–ª—è –Ω–∞—à–µ–π –∏–≥—Ä—ã —Å –ø–æ–º–æ—â—å—é Pygame",
        code: `# –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏\nplayer_img = pygame.Surface((50, 50), pygame.SRCALPHA)\npygame.draw.polygon(player_img, BLUE, [(25, 0), (0, 50), (50, 50)])\n\nasteroid_img = pygame.Surface((45, 45), pygame.SRCALPHA)\npygame.draw.circle(asteroid_img, (150, 150, 150), (22, 22), 22)\n\nbullet_img = pygame.Surface((4, 12), pygame.SRCALPHA)\npygame.draw.rect(bullet_img, (255, 255, 0), (0, 0, 4, 12))`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ—Å–ª–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –Ω–æ –î–û –≥–ª–∞–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞"
    },
    12: {
        title: "üñºÔ∏è –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤",
        content: "–¢–µ–ø–µ—Ä—å –º—ã –≤–∏–¥–∏–º –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ! –ö–æ—Ä–∞–±–ª—å, –ø—É–ª–∏ –∏ –∞—Å—Ç–µ—Ä–æ–∏–¥—ã",
        code: `    # –†–∏—Å—É–µ–º –∞—Å—Ç–µ—Ä–æ–∏–¥—ã\n    for asteroid in asteroids:\n        screen.blit(asteroid_img, (asteroid['x'], asteroid['y']))\n    \n    # –†–∏—Å—É–µ–º –ø—É–ª–∏\n    for bullet in bullets:\n        screen.blit(bullet_img, (bullet['x'], bullet['y']))\n    \n    # –†–∏—Å—É–µ–º –∏–≥—Ä–æ–∫–∞\n    screen.blit(player_img, (player_x, player_y))`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –≤ –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª, –ø–æ—Å–ª–µ screen.fill(BLACK) –∏ –ø–µ—Ä–µ–¥ pygame.display.flip()"
    },
    13: {
        title: "üìä –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—á–µ—Ç –∏ –∂–∏–∑–Ω–∏",
        content: "–ò–≥—Ä–æ–∫ –≤–∏–¥–∏—Ç —Å–≤–æ–π —Ç–µ–∫—É—â–∏–π —Å—á–µ—Ç –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–µ–π –≤ —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞",
        code: `    # –†–∏—Å—É–µ–º UI\n    score_text = font.render(f"–°—á–µ—Ç: {score}", True, GREEN)\n    lives_text = font.render(f"–ñ–∏–∑–Ω–∏: {lives}", True, RED)\n    screen.blit(score_text, (10, 10))\n    screen.blit(lives_text, (10, 50))`,
        hint: "–î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –ø–æ—Å–ª–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏–≥—Ä–æ–∫–∞, –Ω–æ –ø–µ—Ä–µ–¥ pygame.display.flip()"
    },
    14: {
        title: "üîä –î–æ–±–∞–≤–ª—è–µ–º –∑–≤—É–∫–∏",
        content: "–ó–≤—É–∫–∏ –¥–µ–ª–∞—é—Ç –∏–≥—Ä—É –≥–æ—Ä–∞–∑–¥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –∏ –¥–∏–Ω–∞–º–∏—á–Ω–µ–µ!",
        code: `# –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç—ã–µ –∑–≤—É–∫–∏\nshoot_sound = pygame.mixer.Sound(buffer=bytearray([]))\nexplosion_sound = pygame.mixer.Sound(buffer=bytearray([]))\n\n# –í —Ñ—É–Ω–∫—Ü–∏–∏ shoot_bullet –¥–æ–±–∞–≤—å:\n    shoot_sound.play()\n\n# –ü—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—É–ª–∏ —Å –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–º –¥–æ–±–∞–≤—å:\n    explosion_sound.play()\n\n# –ü—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏ –∏–≥—Ä–æ–∫–∞ —Å –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–º –¥–æ–±–∞–≤—å:\n    explosion_sound.play()`,
        hint: "–°–æ–∑–¥–∞–π –∑–≤—É–∫–∏ –î–û –≥–ª–∞–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞. –í—ã–∑–æ–≤—ã play() –¥–æ–±–∞–≤—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Å—Ç–∞"
    },
    15: {
        title: "üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ò–≥—Ä–∞ –≥–æ—Ç–æ–≤–∞!",
        content: "–¢—ã —Å–æ–∑–¥–∞–ª —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∏–≥—Ä—É –Ω–∞ Pygame! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏!",
        code: `# üéØ –ò–≥—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É!\n# –°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª –∫–∞–∫ game.py –∏ –∑–∞–ø—É—Å—Ç–∏\n\n# üí° –ò–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:\n# - –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤\n# - –°–¥–µ–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏\n# - –î–æ–±–∞–≤–∏—Ç—å –±–æ—Å—Å–∞ –≤ –∫–æ–Ω—Ü–µ —É—Ä–æ–≤–Ω—è\n# - –°–æ–∑–¥–∞—Ç—å –º–µ–Ω—é –∏–≥—Ä—ã\n# - –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É\n# - –°–¥–µ–ª–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–∑—Ä—ã–≤–æ–≤\n\n# üöÄ –¢–≤–æ—è –∏–≥—Ä–∞ –∂–¥–µ—Ç —É–ª—É—á—à–µ–Ω–∏–π!`,
        hint: "–ü–æ–ø—Ä–æ–±—É–π –¥–æ–±–∞–≤–∏—Ç—å —á—Ç–æ-—Ç–æ —Å–≤–æ–µ –≤ –∏–≥—Ä—É! –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π —Å —Ü–≤–µ—Ç–∞–º–∏, —Å–∫–æ—Ä–æ—Å—Ç—è–º–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏!"
    }
};

function loadSlide(slideNumber) {
    const slide = slides[slideNumber];
    const highlightedCode = highlightCode(slide.code);
    
    document.getElementById('slide1').innerHTML = `
        <h2 class="slide-title">${slide.title}</h2>
        <div class="slide-content">${slide.content}</div>
        <div class="code-block">
            <div class="code-header">
                <span>–ö–æ–¥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:</span>
                <button class="copy-btn" onclick="copyCode(${slideNumber})">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
            </div>
            <pre class="code-content">${highlightedCode}</pre>
            <button class="hint-btn" onclick="showHint(${slideNumber})">üí°</button>
        </div>
    `;
    
    document.getElementById('slideCounter').textContent = `–°–ª–∞–π–¥ ${slideNumber} –∏–∑ ${totalSlides}`;
    document.getElementById('progress').style.width = `${(slideNumber / totalSlides) * 100}%`;
    
    updateButtons();
}

function nextSlide() {
    if (currentSlide < totalSlides) {
        currentSlide++;
        loadSlide(currentSlide);
    }
}

function prevSlide() {
    if (currentSlide > 1) {
        currentSlide--;
        loadSlide(currentSlide);
    }
}

function updateButtons() {
    const prevBtn = document.querySelector('.prev-btn');
    const nextBtn = document.querySelector('.next-btn');
    
    prevBtn.disabled = currentSlide === 1;
    nextBtn.disabled = currentSlide === totalSlides;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫
    prevBtn.innerHTML = currentSlide === 1 ? '‚óÄ –ù–∞—á–∞–ª–æ' : '‚óÄ –ù–∞–∑–∞–¥';
    nextBtn.innerHTML = currentSlide === totalSlides ? '–ö–æ–Ω–µ—Ü ‚ñ∂' : '–í–ø–µ—Ä–µ–¥ ‚ñ∂';
}

function copyCode(slideNumber) {
    const code = slides[slideNumber].code;
    navigator.clipboard.writeText(code).then(() => {
        const btn = document.querySelector('.copy-btn');
        const originalText = btn.innerHTML;
        btn.innerHTML = '‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        btn.style.background = '#00aa00';
        
        setTimeout(() => {
            btn.innerHTML = originalText;
            btn.style.background = '';
        }, 2000);
    }).catch(err => {
        console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é.');
    });
}

function showHint(slideNumber) {
    document.getElementById('hintContent').innerHTML = `
        <div style="margin-bottom: 15px;">
            <p><strong>üìù –ß—Ç–æ –¥–µ–ª–∞—Ç—å:</strong></p>
            <p>${slides[slideNumber].hint}</p>
        </div>
        <div style="padding: 12px; background: rgba(255, 204, 0, 0.1); border-radius: 8px; border-left: 4px solid #ffcc00;">
            ${slideTips[slideNumber]}
        </div>
        <p style="margin-top: 15px; font-size: 0.9em; color: #cccccc;">
            üí° <em>–ö–æ–ø–∏—Ä—É–π –∫–æ–¥ –ø–æ –æ–¥–Ω–æ–º—É –±–ª–æ–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä—É–π –∏–≥—Ä—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è!</em>
        </p>
    `;
    document.getElementById('hintModal').style.display = 'block';
}

function closeHint() {
    document.getElementById('hintModal').style.display = 'none';
}

// –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤—ã–π —Å–ª–∞–π–¥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
document.addEventListener('DOMContentLoaded', () => {
    loadSlide(1);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
    document.getElementById('hintModal').addEventListener('click', (e) => {
        if (e.target.id === 'hintModal') closeHint();
    });
    
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') prevSlide();
        if (e.key === 'ArrowRight') nextSlide();
        if (e.key === 'Escape') closeHint();
    });
    
    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ–ª–µ—Å–∏–∫–æ–º –º—ã—à–∏
    document.addEventListener('wheel', (e) => {
        if (e.target.closest('.code-block')) return;
        e.preventDefault();
    }, { passive: false });
});